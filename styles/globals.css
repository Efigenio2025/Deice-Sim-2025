:root{
  --bg:#0b0c10; --card:#101218; --ink:#eaeaea; --muted:#96a3bf; --line:#1e2230;
  --accent:#1f6feb; --danger:#e5534b; --ok:#19c37d; --radius:16px; --tap:48px; --space:18px
}
*{box-sizing:border-box}
html,body{padding:0;margin:0}
body{
  background:var(--bg); color:var(--ink);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  -webkit-text-size-adjust:100%; -webkit-tap-highlight-color:transparent
}
.wrap{max-width:980px;margin:0 auto;padding:24px;display:flex;flex-direction:column;gap:18px}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.btn{appearance:none;border:0;border-radius:12px;background:var(--accent);
  color:#fff;font-weight:800;padding:12px 16px;cursor:pointer;min-height:48px;text-decoration:none}
.ghost{background:#2b3147}
.danger{background:var(--danger)}
.card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:18px}
.status{font-size:.92rem;color:var(--muted)}
.pill{display:inline-block;background:#16213a;border:1px solid #223259;color:#b7c7ff;border-radius:999px;padding:2px 8px;font-size:.8rem;font-weight:700}
.live-inline{width:100%;border:1px solid #223259;border-radius:10px;padding:10px;background:#141822;color:#b7c7ff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.progress{height:12px;background:#1a2136;border:1px solid #223259;border-radius:999px;overflow:hidden}
.bar{height:100%;width:0;background:linear-gradient(90deg,#e5534b,#f89c2c,#f6e05e,#a4e786,#19c37d);transition:width .25s}
.scoreline{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
.hidden{display:none!important}
/* Duolingo-style tokens */
.tok{display:inline-block;padding:0 4px;border-radius:6px;margin:0 2px 4px 0}
.ok{background:#12291c;border:1px solid #1f5d38}
.miss{background:#2a1616;border:1px solid #8a2c2c;text-decoration:underline}
.extra{background:#1a1d2a;border:1px solid #2f375c;opacity:.9}
/* --- Responsive layout for trainer --- */
.train-wrap.desktop {
  display: grid;
  grid-template-columns: 1.25fr 0.85fr;
  gap: 16px;
}

.train-wrap.mobile {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}

@media (max-width: 860px) {
  .log { height: 140px; }
}

@media (max-width: 480px) {
  body { font-size: 15px; }
  .log { height: 120px; }
}
/* ===== Piedmont Bright Theme ===== */
:root{
  --bg-start:#e9f3ff;        /* brighter sky gradient */
  --bg-mid:#cfe6ff;
  --bg-end:#9fc9ff;
  --card:#ffffff;            /* bright cards */
  --ink:#0b1e39;             /* dark ink */
  --muted:#47608a;
  --accent:#0e63ff;
  --border:#d8e6ff;
  --chip:#f1f6ff;
  --ok:#19b56b;
  --err:#ff5c6c;
}

body.piedmont {
  background:
    linear-gradient(180deg, var(--bg-start), var(--bg-mid) 40%, var(--bg-end)) fixed,
    url("/images/plane-spray.jpg") right -60px / 800px auto no-repeat fixed;
  color: var(--ink);
}

/* container + card */
.pm-app { max-width: 1120px; margin: 24px auto; padding: 0 16px; }
.pm-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px;
  box-shadow: 0 12px 36px rgba(5,30,74,.12); overflow: hidden; }

/* header */
.pm-header { display:flex; justify-content:space-between; align-items:center; gap:16px;
  padding: 14px 16px; border-bottom: 1px solid var(--border); background: linear-gradient(#fff, #f8fbff); }
.pm-title { display:flex; align-items:center; gap:12px; }
.pm-title img { height: 160px; }
.pm-title h1 { margin:0; font: 700 18px/1 system-ui, -apple-system, Segoe UI, Roboto; }
.pm-badge { background: var(--chip); border: 1px solid var(--border); color: var(--muted);
  border-radius: 999px; padding: 6px 10px; font-size: 12px; }

/* main grid */
.pm-main { display:grid; gap:16px; padding:16px; }
.pm-main.desktop { grid-template-columns: 1.25fr .9fr; }
.pm-main.mobile  { grid-template-columns: 1fr; }

/* panels */
.pm-panel { background: #ffffff; border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
.pm-row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.pm-label { color: var(--muted); font-size: 12px; }
.pm-select, .pm-input, textarea { width:100%; background:#f6f9ff; border:1px solid var(--border); color:var(--ink);
  border-radius:10px; padding:10px 12px; font-size:14px; }
.pm-btn { cursor:pointer; border:1px solid var(--border); background:#f2f7ff; color:var(--ink);
  border-radius:12px; padding:10px 14px; font-weight:600; }
.pm-btn.primary { background: linear-gradient(180deg, #2f78ff, #0e63ff); color:#fff; border-color:#0e63ff; }
.pm-btn.ghost { background:transparent; }
.pm-btn:disabled { opacity:.5; cursor:not-allowed; }

/* mic widget */
.pm-mic { display:flex; align-items:center; gap:8px; }
.pm-pill { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid var(--border);
  border-radius:999px; background:#f6f9ff; color:#34507a; font-size:12px; }
.pm-meter { flex:1; height:8px; background:#eef5ff; border:1px solid var(--border);
  border-radius:999px; overflow:hidden; }
.pm-fill { height:100%; background:#19b56b; }

/* “coach” bubble */
.pm-coach { font-size:15px; background:#f6f9ff; border-left:3px solid var(--accent); padding:12px; border-radius:8px; }

/* log */
.pm-log { height: 170px; overflow:auto; background:#fbfdff; border:1px dashed var(--border);
  border-radius:8px; padding:10px; font-family:ui-monospace, Menlo, Consolas, monospace; font-size:12px; white-space:pre-wrap; }

/* stepper */
.pm-stepper { display:flex; gap:6px; flex-wrap:wrap; }
.pm-step { width:14px; height:14px; border-radius:6px; border:1px solid var(--border); background:#eaf2ff; }
.pm-step.cur  { outline:2px solid var(--accent); }
.pm-step.ok   { background:#d6f7e9; }
.pm-step.miss { background:#ffe3e6; }

/* diff */
.pm-diff { padding:8px; border-radius:8px; background:#f6f9ff; margin:8px 0; }
.pm-wok { color:#0f7a4a; }
.pm-wmiss { color:#b00d2d; text-decoration: underline dotted; }

/* score ring */
.pm-scoreRow { display:flex; align-items:center; gap:12px; }
.pm-ring { width:72px; height:72px; }

/* footer */
.pm-footer { padding:12px 16px; border-top:1px solid var(--border); display:flex; justify-content:space-between;
  color:#47608a; font-size:12px; background:linear-gradient(#f8fbff,#fff); }

/* toasts */
.pm-toasts { position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:9999; }
.pm-toast { background:#ffffff; border:1px solid var(--border); color:#0b1e39; padding:10px 12px; border-radius:10px;
  box-shadow:0 6px 20px rgba(5,30,74,.12); }
.pm-toast.success{ border-color:#19b56b }
.pm-toast.error{ border-color:#ff5c6c }

/* responsive */
@media (hover:none) and (pointer:coarse){ .pm-btn, .pm-select, .pm-input, textarea { min-height:44px } }
@media (max-width: 860px){ .pm-main{ padding:12px } .pm-log{ height:140px } body.piedmont{ background-size: 600px auto } }
@media (max-width: 480px){ .pm-log{ height:120px } body.piedmont{ background-position: right -10px top -10px } }
