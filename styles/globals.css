@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
  }

  html {
    @apply antialiased scroll-smooth;
  }

  body {
    @apply bg-frost-radial min-h-screen text-slate-200 font-sans;
    font-family: 'Inter', 'SF Pro Text', 'Segoe UI', system-ui, -apple-system, sans-serif;
  }

  ::selection {
    @apply bg-cyan-400/40 text-white;
  }

  a {
    @apply text-cyan-300 hover:text-cyan-200 transition;
  }

  *:focus-visible {
    @apply outline-none ring-2 ring-cyan-300/60 ring-offset-2 ring-offset-frost-midnight;
  }
}

@layer utilities {
  .safe-px {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }

  .safe-pt {
    padding-top: calc(1.25rem + var(--safe-top));
  }

  .safe-pb {
    padding-bottom: calc(1.25rem + var(--safe-bottom));
  }
}

@layer components {
  .frost-btn {
    @apply inline-flex h-12 min-w-[3rem] items-center justify-center rounded-full border border-transparent
      bg-gradient-to-br from-cyan-500/30 via-cyan-400/20 to-transparent px-5 text-sm font-semibold uppercase tracking-wide
      text-slate-100 shadow-[0_8px_24px_rgba(14,165,233,0.25)] transition-all duration-300 ease-out
      hover:from-cyan-400/50 hover:via-cyan-300/25 hover:text-white hover:shadow-[0_18px_45px_rgba(34,211,238,0.28)]
      focus-visible:ring-cyan-300/60 focus-visible:ring-offset-0;
  }

  .frost-btn.ghost {
    @apply border-cyan-300/30 bg-white/5 text-slate-100 hover:border-cyan-200/50 hover:bg-cyan-400/10;
  }

  .frost-btn.danger {
    @apply border-rose-400/40 bg-rose-500/20 text-rose-100 hover:border-rose-300/60 hover:bg-rose-500/30;
  }

  .frost-pill {
    @apply inline-flex items-center gap-2 rounded-full border border-cyan-200/20 bg-cyan-400/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-cyan-100;
  }

  .frost-pill.muted {
    @apply border-slate-400/30 bg-white/5 text-slate-300;
  }

  .frost-input {
    @apply w-full rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-slate-100 shadow-inner shadow-black/20 transition
      placeholder:text-slate-400 focus:border-cyan-300/40 focus:bg-cyan-300/5;
  }

  textarea.frost-input {
    @apply resize-y min-h-[120px];
  }

  .frost-label {
    @apply text-xs font-semibold uppercase tracking-[0.2em] text-slate-300/80;
  }

  .frost-log {
    @apply h-60 w-full overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/40 p-4 text-sm text-slate-300 shadow-inner;
  }

  .frost-grid-divider {
    @apply h-px w-full bg-gradient-to-r from-transparent via-white/10 to-transparent;
  }

  .pm-toasts {
    @apply fixed inset-x-0 top-20 z-[1000] flex flex-col items-center gap-3 px-4;
  }

  .pm-toast {
    @apply rounded-full border border-white/10 bg-slate-900/80 px-4 py-2 text-sm font-medium text-slate-100 shadow-lg shadow-cyan-900/40 backdrop-blur;
  }

  .pm-toast.success {
    @apply border-emerald-400/40 bg-emerald-500/20 text-emerald-100;
  }

  .pm-toast.error {
    @apply border-rose-400/40 bg-rose-500/25 text-rose-50;
  }

  .pm-toast.info {
    @apply border-cyan-400/35 bg-cyan-500/15 text-cyan-50;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
